{{template "base/head" .}}
<div class="repository wiki new">
	{{template "cup/header" .}}
	<div class="ui container">
		{{template "base/alert" .}}
		<div class="ui header">
			{{if .PageIsCupEdit}}
				<div class="ui right">
					<a class="ui green small button" href="{{.RepoLink}}/wiki/_new">{{.i18n.Tr "repo.wiki.new_page_button"}}</a>
				</div>
			{{end}}
		</div>
		<form class="ui edit form" method="post">
			{{.CsrfTokenHtml}}
			<div class="field">
				<div class="fitted item treepath">
					<input type="text" id="repo_desc" name="repo_desc" value="{{.Repository.Description}}" placeholder="cup description ..." required>
				</div>
			</div>
			<div class="field">
				<div class="ui top attached tabular menu" data-write="write" data-diff="diff">
					<input type="text" id="file_name" name="file_name" value="{{.Name}}" placeholder="file name including extension ..." required>
				</div>
				<div class="ui bottom attached active tab segment" data-tab="write">
					<textarea id="edit_area" name="content" data-id="repo-{{.Repository.Name}}-{{.TreePath}}"
						data-url="{{.Repository.APIURL}}/markdown"
						data-line-wrap-extensions="{{.LineWrapExtensions}}"
						required>
{{.FileContent}}</textarea>
				</div>
                <div class="text left">
                    <button class="ui button">
                        {{.i18n.Tr "cup.add_file"}}
                    </button>
                </div>
                <div class="text right">
                    <button class="ui green button">
                        {{.i18n.Tr "cup.btn_create"}}
                    </button>
                </div>
			</div>
		</form>
	</div>
</div>
{{template "base/footer" .}}
